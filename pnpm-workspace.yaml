packages:
  # Include the root package
  - "."
  # Exclude build outputs and dependencies
  - "!**/.next/**"
  - "!**/node_modules/**"
  - "!**/.pnpm-store/**"

# Optimize dependency resolution for faster installs
resolutionMode: "lowest-direct"

# Enable optimistic repeat installs for faster development
optimisticRepeatInstall: true

# Enable shell emulator for cross-platform compatibility
shellEmulator: true

# Optimize hoisting for better performance and tool compatibility
hoist: true
hoistPattern:
  - "*typescript*"
  - "*biome*"
  - "*eslint*"
  - "*prettier*"

# Only build dependencies that need native compilation
onlyBuiltDependencies:
  - "@sentry/cli"
  - "@tailwindcss/oxide"
  - "@vercel/speed-insights"
  - canvas
  - esbuild
  - sharp

# Flexible peer dependency handling for development
strictPeerDependencies: false
autoInstallPeers: true
